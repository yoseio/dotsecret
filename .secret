# Example .secret file
# This demonstrates the basic features of dotsecret

[default]
# Application configuration
APP_NAME = "dotsecret-demo"
APP_ENV ?= "development"
LOG_LEVEL ?= "info"

# Database configuration with GCP Secret Manager
# DB_USER = !gcp(secret="db_user", project="my-project")
# DB_PASS = !gcp(secret="db_pass", project="my-project")
# DB_HOST = "localhost"
# DB_PORT = "5432"
# DB_NAME = "myapp"

# Example with environment variable fallback
REGION = !env(name="AWS_REGION") || "us-east-1"

# Example with file reading and transformation
# CA_CERT = !file(path="./certs/ca.pem") | base64encode()

[scope:node]
NODE_ENV = "${APP_ENV}"
# DATABASE_URL = "postgres://${DB_USER}:${DB_PASS}@${DB_HOST}:${DB_PORT}/${DB_NAME}"

[scope:python]
PYTHONPATH += "./src"
PYTHON_ENV = "${APP_ENV}"

[scope:terraform extends node]
TF_VAR_app_name = "${APP_NAME}"
# TF_VAR_db_user = "${DB_USER}"
# TF_VAR_db_pass = "${DB_PASS}"

[production]
APP_ENV = "production"
LOG_LEVEL = "warn"
# DB_HOST = !gcp(secret="db_host_prod", project="my-project-prod")